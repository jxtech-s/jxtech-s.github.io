<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Confused Ant II - JXTech</title>
<meta name="description" content="Problem Statement">


  <meta name="author" content="JXTech">
  
  <meta property="article:author" content="JXTech">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="JXTech">
<meta property="og:title" content="Confused Ant II">
<meta property="og:url" content="http://localhost:4000/probability/statistics/problems/2025/03/17/Confused-Ant-II.html">


  <meta property="og:description" content="Problem Statement">







  <meta property="article:published_time" content="2025-03-17T00:00:00+05:30">






<link rel="canonical" href="http://localhost:4000/probability/statistics/problems/2025/03/17/Confused-Ant-II.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "JXTech",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="JXTech Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--splash wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          JXTech
          <span class="site-subtitle">Redefine Computing and Intelligence</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/problems/">Problems</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      

<div id="main" role="main">
  <article class="splash" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Confused Ant II">
    <meta itemprop="description" content="Problem Statement">
    <meta itemprop="datePublished" content="2025-03-17T00:00:00+05:30">
    

    <section class="page__content" itemprop="text">
      <h2 id="problem-statement">Problem Statement</h2>

<p>An ant walks the corner of a 3D cube and moves to one of the three adjacent vertices with equal probability at each step. Find the expected number of steps needed for the ant to return to the vertex it started at.</p>

<p><strong>Original Problem Link</strong>: <a href="https://www.quantguide.io/questions/confused-ant-ii">Click here</a></p>

<h2 id="solution">Solution</h2>

<p>Here from each corner, the ant can take any path with an equal probability of \(1/3\).
We must realize that if we compute the probability of each possible path, and multiply it by the number of steps its taking, and take its summation over all possible cases, that would yes lead to our answer, but it is very tedious to compute.</p>

<p>A better alternative is to use the concept of Conditional Expectations.
It essentially states that</p>

\[E[X] = \sum_{Y_i} E[X \mid Y_i] P(Y_i)\]

<h3 id="step-1-identifying-states">Step 1: Identifying States</h3>

<p>In the described problem, the ant can be uniquely at 4 possible positions.</p>
<ol>
  <li>At the starting point itself (call this \(A\)).</li>
  <li>At a point only 1 edge away from \(A\) (call this \(B\)).</li>
  <li>At a point 2 edges away from \(A\) (call this \(C\)).</li>
  <li>At a point 3 edges away from \(A\) (call this \(D\). Note that there is only 1 such point, the one diagonally opposite to \(A\)).</li>
</ol>

<p>This reduces our problem to a Markov Chain analysis, with transition probablities as follows -</p>

<p>State \(A\) to State \(B\) = 1 
(How? -&gt; Note that from \(A\), you have 3 options to move, all symmetric and 1 edge away from \(A\). This means you will definitely move to state \(B\))</p>

<p>State \(B\) to State \(A\) = 1/3
(How? -&gt; When you are at point \(B\) (which is 1 edge away from \(A\)), you can move back to point \(A\) with probability 1/3 (since at each point, all edges are equiprobable))</p>

<p>State \(B\) to State \(C\) = 2/3
(How? From State \(B\), you either move back to \(A\), or the other 2 edges lead to a point which is 2 edges away from \(A\), this point \(C\))</p>

<p>State \(C\) to State \(B\) = 2/3
(How? When at State \(C\), 2 paths will lead to State \(B\), and 1 will lead to \(D\). Try to visualize this on a cube, with State \(C\) being just adjacent to the opposite corner to \(A\))</p>

<p>State \(C\) to State \(D\) = 1/3
(How? When at State \(C\), 2 paths will lead to State \(B\), and 1 will lead to \(D\))</p>

<p>Thus, we can reduce the problem to</p>

<blockquote>
  <p>‚ÄúGiven the above State Transition Probabilities, find E[A], where A is the event of returning to point A after moving atleast once‚Äù</p>
</blockquote>

<h3 id="step-2-forming-the-set-of-expectation-equations">Step 2: Forming the set of Expectation equations</h3>

<p>For any State X, using the Conditional Expectation Equation described above</p>

\[E[X] = \sum_{Y_i} E[X \mid Y_i] P(Y_i)\]

<p>Where the states \(Y_i\) represent points just adjacent to state \(X\).</p>

<p>Solving for State A, we get</p>

<p>\(E[A] = 1\)(for the 1 step we take) \(+3*1/3E[B]\)
Where \(E(B)\) represents the expected value to reach state \(A\) from \(B\).</p>

<p>Simplifying, we get</p>

\[E[A] = 1 + E[B]\]

<p>Similarly, for State \(B\), we have,</p>

<p>Neighbouring States = A, C, C. Thus,</p>

\[E[B] = 1 +  1/3(E'[A]) + 2/3(E[C])\]

<p>Note that here, \(E'[A]\) is NOT \(E[A]\).</p>

<p>\(E[A]\) is the expected number of states to reach \(A\) from \(A\), given that we haven‚Äôt moved before.</p>

<p>\(E'[A]\) is the expected number of states to reach \(A\) from \(A\), given that we HAVE moved (since we went to \(B\)!). This is obviously 0, as you have already reached \(A\)!</p>

<p>Thus, we get</p>

\[E[B] = 1 + 2/3 (E[C])\]

<p>For states \(C\) and \(D\), following a similar analysis, we will get</p>

\[E[C] = 1 + 1/3 (E[D]) + 2/3 (E[B])\]

<p>(Note - for \(C\), we are surrounded by 2 \(B\)‚Äôs and 1 \(D\)); and</p>

\[E[D] = 1 + E[C]\]

<p>(When at \(D\), we are only surrounded by \(C\)‚Äôs. Just a reminder, \(D\) is the opposite diagonal to \(A\)(our starting point), so this becomes trivial)</p>

<p>Therefore, we have a set of 4 equations and four variables (\(E[A]\), \(E[B]\), \(E[C]\), \(E[D]\))! These can be solved easily using backsubstitution.</p>

<h3 id="step-3-solving-the-equations">Step 3: Solving the Equations</h3>

<p>We have the following system of equations:</p>

<ol>
  <li>
\[E[A] = 1 + E[B]\]
  </li>
  <li>
\[E[B] = 1 + \frac{2}{3} E[C]\]
  </li>
  <li>
\[E[C] = 1 + \frac{1}{3} E[D] + \frac{2}{3} E[B]\]
  </li>
  <li>
\[E[D] = 1 + E[C]\]
  </li>
</ol>

<p>Now,</p>

<p>From Equation (4):</p>

\[E[D] = 1 + E[C]\]

<p>Substituting this into Equation (3):</p>

\[E[C] = 1 + \frac{1}{3} (1 + E[C]) + \frac{2}{3} E[B]\]

<p>Expanding:</p>

\[E[C] = 1 + \frac{1}{3} + \frac{1}{3}E[C] + \frac{2}{3}E[B]\]

<p>Rearrange:</p>

\[E[C] - \frac{1}{3} E[C] = \frac{4}{3} + \frac{2}{3}E[B]\]

\[\frac{2}{3}E[C] = \frac{4}{3} + \frac{2}{3}E[B]\]

<p>Multiplying both sides by \(\frac{3}{2}\):</p>

\[E[C] = 2 + E[B]\]

<p>From Equation (2):</p>

\[E[B] = 1 + \frac{2}{3} E[C]\]

<p>Substituting \(E[C] = 2 + E[B]\):</p>

\[E[B] = 1 + \frac{2}{3} (2 + E[B])\]

\[E[B] = 1 + \frac{4}{3} + \frac{2}{3}E[B]\]

\[E[B] - \frac{2}{3}E[B] = \frac{7}{3}\]

\[\frac{1}{3}E[B] = \frac{7}{3}\]

\[E[B] = 7\]

<p>Thus, finally we get,</p>

\[E[A] = 1 + E[B] = 1 + 7 = 8\]

<h3 id="therefore-the-the-expected-number-of-moves-required-for-the-ant-to-reach-back-to-its-starting-point-is-8">Therefore, the the expected number of moves required for the ant to reach back to its starting point is 8.</h3>

<hr />

<p>üí°  Did you enjoy this problem? Check out more puzzles in the <a href="https://jxtech-s.github.io/problems/">Problems</a> section!</p>

    </section>
  </article>
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/TheAlphaJas" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 JXTech. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
